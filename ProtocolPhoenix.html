<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <meta name="mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="theme-color" content="#020617">
  <link rel="manifest" href="data:application/json;base64,eyJuYW1lIjoiUHJvdG9jb2wgUGhvZW5peCIsInNob3J0X25hbWUiOiJQaG9lbml4IiwiaWNvbnMiOlt7InNyYyI6Imljb24ucG5nIiwic2l6ZXMiOiIxOTJ4MTkyIiwidHlwZSI6ImltYWdlL3BuZyJ9XSwic3RhcnRfdXJsIjoiLiIsImRpc3BsYXkiOiJzdGFuZGFsb25lIiwiYmFja2dyb3VuZF9jb2xvciI6IiMwMjA2MTciLCJ0aGVtZV9jb2xvciI6IiNmOTczMTYifQ==">
  <title>Protocol Phoenix</title>
  <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
  <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    body { margin: 0; padding: 0; background: #020617; overflow-x: hidden; overflow-y: auto; }
    * { box-sizing: border-box; }
    
    /* Animated flame effects */
    @keyframes flameFlicker1 {
      0%, 100% { opacity: 0.15; transform: scale(1) translateY(0); }
      25% { opacity: 0.22; transform: scale(1.08) translateY(-3%); }
      50% { opacity: 0.12; transform: scale(0.95) translateY(2%); }
      75% { opacity: 0.25; transform: scale(1.05) translateY(-1%); }
    }
    
    @keyframes flameFlicker2 {
      0%, 100% { opacity: 0.18; transform: scale(1) translateY(0); }
      30% { opacity: 0.12; transform: scale(0.93) translateY(3%); }
      60% { opacity: 0.28; transform: scale(1.1) translateY(-4%); }
      85% { opacity: 0.15; transform: scale(1.02) translateY(-1%); }
    }
    
    @keyframes flameFlicker3 {
      0%, 100% { opacity: 0.12; transform: scale(1) translateX(0); }
      20% { opacity: 0.20; transform: scale(1.06) translateX(-2%); }
      45% { opacity: 0.08; transform: scale(0.94) translateX(2%); }
      70% { opacity: 0.23; transform: scale(1.08) translateX(-3%); }
    }
    
    @keyframes flamePulse {
      0%, 100% { opacity: 0.3; transform: scale(1); }
      50% { opacity: 0.5; transform: scale(1.15); }
    }
    
    @keyframes phoenixGlow {
      0%, 100% { filter: drop-shadow(0 0 8px rgba(234, 88, 12, 0.6)); }
      50% { filter: drop-shadow(0 0 15px rgba(234, 88, 12, 0.9)); }
    }
    
    .flame-bg {
      position: fixed;
      pointer-events: none;
      z-index: 0;
    }
    
    .flame-core {
      position: absolute;
      bottom: -5%;
      left: 50%;
      transform: translateX(-50%);
      width: 300px;
      height: 400px;
      background: radial-gradient(ellipse at 50% 80%, rgba(251, 146, 60, 0.6) 0%, rgba(245, 158, 11, 0.4) 30%, rgba(217, 119, 6, 0.2) 60%, transparent 100%);
      filter: blur(40px);
      animation: flamePulse 3s ease-in-out infinite;
    }
    
    .flame-flicker-1 {
      position: absolute;
      bottom: -20%;
      left: -15%;
      width: 80%;
      height: 100%;
      background: radial-gradient(ellipse at 30% 90%, rgba(251, 146, 60, 0.4) 0%, rgba(245, 158, 11, 0.25) 25%, rgba(217, 119, 6, 0.12) 50%, transparent 100%);
      filter: blur(60px);
      animation: flameFlicker1 5s ease-in-out infinite;
    }
    
    .flame-flicker-2 {
      position: absolute;
      bottom: -20%;
      right: -15%;
      width: 80%;
      height: 100%;
      background: radial-gradient(ellipse at 70% 85%, rgba(245, 158, 11, 0.35) 0%, rgba(217, 119, 6, 0.2) 30%, rgba(180, 83, 9, 0.08) 60%, transparent 100%);
      filter: blur(70px);
      animation: flameFlicker2 6s ease-in-out infinite;
      animation-delay: 1.2s;
    }
    
    .flame-flicker-3 {
      position: absolute;
      bottom: -10%;
      left: 10%;
      width: 80%;
      height: 90%;
      background: radial-gradient(ellipse at 50% 100%, rgba(252, 211, 77, 0.25) 0%, rgba(245, 158, 11, 0.15) 35%, rgba(217, 119, 6, 0.05) 70%, transparent 100%);
      filter: blur(80px);
      animation: flameFlicker3 7s ease-in-out infinite;
      animation-delay: 2.5s;
    }
    
    #root { position: relative; z-index: 1; }
    
    /* Mobile responsive */
    @media (max-width: 768px) {
      body { padding: 0; }
      .text-4xl { font-size: 1.5rem !important; }
      .text-3xl { font-size: 1.25rem !important; }
      .text-2xl { font-size: 1.125rem !important; }
      .text-xl { font-size: 1rem !important; }
      .p-6 { padding: 1rem !important; }
      .p-5 { padding: 0.875rem !important; }
      .p-4 { padding: 0.75rem !important; }
      .gap-4 { gap: 0.5rem !important; }
      .gap-3 { gap: 0.375rem !important; }
      .grid-cols-3 { grid-template-columns: 1fr !important; }
      .md\\:grid-cols-2 { grid-template-columns: 1fr !important; }
      .lg\\:grid-cols-3 { grid-template-columns: 1fr !important; }
      button { font-size: 0.875rem; padding: 0.5rem 1rem; }
      .w-24 { width: 4rem !important; height: 4rem !important; }
    }
    
    /* PWA icon support */
    link[rel="icon"], link[rel="apple-touch-icon"] {
      content: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><text y="80" font-size="80">ðŸ”¥</text></svg>');
    }
  </style>
</head>
<body>
  <!-- Animated flame background -->
  <div class="flame-bg" style="position: fixed; inset: 0;">
    <div class="flame-core"></div>
    <div class="flame-flicker-1"></div>
    <div class="flame-flicker-2"></div>
    <div class="flame-flicker-3"></div>
  </div>
  
  <div id="root"></div>
  <script>
    const { useState, useEffect } = React;
    
    // Lucide icons as inline SVG components
    const PlusCircle = () => React.createElement('svg', { width: 20, height: 20, viewBox: '0 0 24 24', fill: 'none', stroke: 'currentColor', strokeWidth: 2 },
      React.createElement('circle', { cx: 12, cy: 12, r: 10 }),
      React.createElement('line', { x1: 12, y1: 8, x2: 12, y2: 16 }),
      React.createElement('line', { x1: 8, y1: 12, x2: 16, y2: 12 })
    );
    
    const Download = () => React.createElement('svg', { width: 20, height: 20, viewBox: '0 0 24 24', fill: 'none', stroke: 'currentColor', strokeWidth: 2 },
      React.createElement('path', { d: 'M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4' }),
      React.createElement('polyline', { points: '7 10 12 15 17 10' }),
      React.createElement('line', { x1: 12, y1: 15, x2: 12, y2: 3 })
    );
    
    const Flame = ({ size = 24, className = '' }) => React.createElement('svg', { width: size, height: size, className, viewBox: '0 0 24 24', fill: 'currentColor' },
      React.createElement('path', { d: 'M8.5 14.5A2.5 2.5 0 0011 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 11-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 002.5 2.5z' })
    );
    
    const Play = ({ size = 24 }) => React.createElement('svg', { width: size, height: size, viewBox: '0 0 24 24', fill: 'currentColor' },
      React.createElement('polygon', { points: '5 3 19 12 5 21 5 3' })
    );
    
    const Pause = ({ size = 24 }) => React.createElement('svg', { width: size, height: size, viewBox: '0 0 24 24', fill: 'currentColor' },
      React.createElement('rect', { x: 6, y: 4, width: 4, height: 16 }),
      React.createElement('rect', { x: 14, y: 4, width: 4, height: 16 })
    );
    
    const StopCircle = ({ size = 24 }) => React.createElement('svg', { width: size, height: size, viewBox: '0 0 24 24', fill: 'none', stroke: 'currentColor', strokeWidth: 2 },
      React.createElement('circle', { cx: 12, cy: 12, r: 10 }),
      React.createElement('rect', { x: 9, y: 9, width: 6, height: 6 })
    );
    
    const TrendingUp = ({ size = 16, className = '' }) => React.createElement('svg', { width: size, height: size, className, viewBox: '0 0 24 24', fill: 'none', stroke: 'currentColor', strokeWidth: 2 },
      React.createElement('polyline', { points: '23 6 13.5 15.5 8.5 10.5 1 18' }),
      React.createElement('polyline', { points: '17 6 23 6 23 12' })
    );
    
    const AlertTriangle = ({ size = 16, className = '' }) => React.createElement('svg', { width: size, height: size, className, viewBox: '0 0 24 24', fill: 'none', stroke: 'currentColor', strokeWidth: 2 },
      React.createElement('path', { d: 'M10.29 3.86L1.82 18a2 2 0 001.71 3h16.94a2 2 0 001.71-3L13.71 3.86a2 2 0 00-3.42 0z' }),
      React.createElement('line', { x1: 12, y1: 9, x2: 12, y2: 13 }),
      React.createElement('line', { x1: 12, y1: 17, x2: 12.01, y2: 17 })
    );
    
    const Zap = ({ className = '' }) => React.createElement('svg', { width: 20, height: 20, className, viewBox: '0 0 24 24', fill: 'currentColor' },
      React.createElement('polygon', { points: '13 2 3 14 12 14 11 22 21 10 12 10 13 2' })
    );
    
    function Grade9Tracker() {
      const [subjects, setSubjects] = useState([]);
      const [sessions, setSessions] = useState([]);
      const [showAddSubject, setShowAddSubject] = useState(false);
      const [newSubject, setNewSubject] = useState('');
      const [currentSubject, setCurrentSubject] = useState(null);
      const [showAddPaper, setShowAddPaper] = useState(false);
      const [newPaper, setNewPaper] = useState({ score: '', maxScore: '', date: new Date().toISOString().split('T')[0] });
      const [showAddSession, setShowAddSession] = useState(false);
      const [sessionType, setSessionType] = useState(null);
      const [timerRunning, setTimerRunning] = useState(false);
      const [timerSeconds, setTimerSeconds] = useState(0);
      const [timerSubject, setTimerSubject] = useState(null);
      const [showPhoenix, setShowPhoenix] = useState(true);
      
      // Load data
      useEffect(() => {
        try {
          const saved = localStorage.getItem('phoenixData');
          if (saved) {
            const data = JSON.parse(saved);
            setSubjects(data.subjects || []);
            setSessions(data.sessions || []);
          }
        } catch (e) {}
      }, []);
      
      // Save data
      const saveData = (newSubjects, newSessions) => {
        localStorage.setItem('phoenixData', JSON.stringify({ subjects: newSubjects || subjects, sessions: newSessions || sessions }));
      };
      
      // Timer
      useEffect(() => {
        let interval;
        if (timerRunning) interval = setInterval(() => setTimerSeconds(s => s + 1), 1000);
        return () => clearInterval(interval);
      }, [timerRunning]);
      
      // Scroll
      useEffect(() => {
        const handleScroll = () => setShowPhoenix(window.scrollY < 50);
        window.addEventListener('scroll', handleScroll);
        return () => window.removeEventListener('scroll', handleScroll);
      }, []);
      
      const addSubject = () => {
        if (!newSubject.trim()) return;
        const updated = [...subjects, { id: Date.now(), name: newSubject, papers: [] }];
        setSubjects(updated);
        saveData(updated, sessions);
        setNewSubject('');
        setShowAddSubject(false);
      };
      
      const addPaper = () => {
        if (!newPaper.score || newPaper.maxScore === '') return;
        const score = Math.max(0, parseFloat(newPaper.score));
        const maxGrade = parseInt(newPaper.maxScore);
        const percentage = (score / maxGrade) * 100;
        const grade = percentage >= 88 ? 9 : percentage >= 79 ? 8 : percentage >= 69 ? 7 : percentage >= 59 ? 6 : percentage >= 49 ? 5 : percentage >= 39 ? 4 : 3;
        
        const updated = subjects.map(s => s.id === currentSubject.id ? { ...s, papers: [...s.papers, { id: Date.now(), score, maxScore: maxGrade, percentage: percentage.toFixed(1), date: newPaper.date, grade }] } : s);
        setSubjects(updated);
        saveData(updated, sessions);
        setNewPaper({ score: '', maxScore: '', date: new Date().toISOString().split('T')[0] });
        setShowAddPaper(false);
      };
      
      const getTrajectory = (subject) => {
        if (subject.papers.length < 3) return null;
        const sorted = [...subject.papers].sort((a, b) => new Date(a.date) - new Date(b.date));
        const recent = sorted.slice(-5);
        const avg = recent.reduce((sum, p) => sum + p.grade, 0) / recent.length;
        const improvement = (recent[recent.length - 1].grade - recent[0].grade) / recent.length;
        const projected = Math.min(9, Math.max(1, avg + improvement * 20));
        const needed = Math.max(0, 9 - avg) / 20;
        return { current: avg, projected, improvement, onTrack: projected >= 8.8, requiredImprovement: needed };
      };
      
      const stopFocusSession = () => {
        if (timerSeconds > 0) {
          const updated = [...sessions, { id: Date.now(), subject: timerSubject?.name || 'Multi', duration: (timerSeconds / 3600).toFixed(2), date: new Date().toISOString().split('T')[0], type: sessionType || 'focus' }];
          setSessions(updated);
          saveData(subjects, updated);
        }
        setTimerRunning(false);
        setTimerSeconds(0);
        setTimerSubject(null);
        setSessionType(null);
      };
      
      const formatTime = (s) => {
        const h = Math.floor(s / 3600), m = Math.floor((s % 3600) / 60), sec = s % 60;
        return `${h.toString().padStart(2, '0')}:${m.toString().padStart(2, '0')}:${sec.toString().padStart(2, '0')}`;
      };
      
      const exportCSV = () => {
        let csv = "Subject,Current,Papers,Projected,On Track\n";
        subjects.forEach(s => {
          const t = getTrajectory(s);
          const recent = [...s.papers].sort((a, b) => new Date(b.date) - new Date(a.date)).slice(0, 5);
          const avg = recent.length > 0 ? recent.reduce((sum, p) => sum + p.grade, 0) / recent.length : 5.5;
          csv += `${s.name},${avg.toFixed(1)},${s.papers.length},${t ? t.projected.toFixed(1) : 'N/A'},${t?.onTrack ? 'Yes' : 'No'}\n`;
        });
        const blob = new Blob([csv], { type: 'text/csv' });
        const url = URL.createObjectURL(blob);
        const a = document.createElement('a');
        a.href = url;
        a.download = `protocol-phoenix-${new Date().toISOString().split('T')[0]}.csv`;
        a.click();
      };
      
      const getStreak = () => {
        const dates = [...new Set(sessions.map(s => s.date))].sort().reverse();
        let streak = 0, checkDate = new Date();
        for (let date of dates) {
          const d = new Date(date);
          const diff = Math.floor((checkDate - d) / 86400000);
          if (diff <= 1) { streak++; checkDate = d; } else break;
        }
        return streak;
      };
      
      const totalHours = sessions.reduce((sum, s) => sum + parseFloat(s.duration), 0).toFixed(1);
      
      return React.createElement('div', { className: 'min-h-screen bg-slate-950 text-slate-100 p-2 relative overflow-hidden' },
        // Flames
        React.createElement('div', { className: 'fixed inset-0 pointer-events-none' },
          React.createElement('div', { className: 'absolute inset-0 bg-slate-950' }),
          React.createElement('div', { style: { position: 'absolute', bottom: '-5%', left: '50%', transform: 'translateX(-50%)', width: '300px', height: '400px', background: 'radial-gradient(ellipse at 50% 80%, rgba(251, 146, 60, 0.6) 0%, rgba(245, 158, 11, 0.4) 30%, rgba(217, 119, 6, 0.2) 60%, transparent 100%)', filter: 'blur(40px)', animation: 'flamePulse 3s ease-in-out infinite' }})),
        
        // Phoenix
        showPhoenix && React.createElement('div', { className: 'fixed top-6 right-8 z-40', style: { animation: 'phoenixGlow 3s ease-in-out infinite' }},
          React.createElement(Flame, { size: 96, className: 'text-orange-600' })
        ),
        
        React.createElement('div', { className: 'max-w-5xl mx-auto relative z-10' },
          // Header
          React.createElement('div', { className: 'sticky top-0 z-30 bg-slate-950/95 backdrop-blur-sm pb-2 mb-3' },
            React.createElement('div', { className: 'flex items-center gap-3 mb-2 pt-4' },
              React.createElement(Flame, { size: 40, className: 'text-orange-600' }),
              React.createElement('h1', { className: 'text-4xl font-bold bg-gradient-to-r from-orange-600 via-red-600 to-orange-600 bg-clip-text text-transparent' }, 'Welcome, Harsh Malekar')
            ),
            React.createElement('p', { className: 'text-slate-500 italic' },
              'Rise from the ashes. ',
              React.createElement('span', { className: 'text-slate-600' }, '| "Disappointment comes from high expectations."')
            ),
            
            // Stats
            React.createElement('div', { className: 'grid grid-cols-2 md:grid-cols-4 gap-4 mt-6' },
              React.createElement('div', { className: 'bg-slate-900 p-4 rounded-lg border border-slate-800' },
                React.createElement('div', { className: 'text-slate-400 text-sm' }, 'Subjects'),
                React.createElement('div', { className: 'text-2xl font-bold text-orange-500' }, subjects.length)
              ),
              React.createElement('div', { className: 'bg-slate-900 p-4 rounded-lg border border-slate-800' },
                React.createElement('div', { className: 'text-slate-400 text-sm' }, 'Papers Done'),
                React.createElement('div', { className: 'text-2xl font-bold text-orange-600' }, subjects.reduce((sum, s) => sum + s.papers.length, 0))
              ),
              React.createElement('div', { className: 'bg-slate-900 p-4 rounded-lg border border-slate-800' },
                React.createElement('div', { className: 'text-slate-400 text-sm' }, 'Study Time'),
                React.createElement('div', { className: 'text-2xl font-bold text-slate-400' }, totalHours + 'h')
              ),
              React.createElement('div', { className: 'bg-slate-900 p-4 rounded-lg border border-slate-800' },
                React.createElement('div', { className: 'text-slate-400 text-sm' }, 'Streak'),
                React.createElement('div', { className: 'text-2xl font-bold text-red-600' }, getStreak() + ' days')
              )
            )
          ),
          
          // Session buttons
          !timerSubject ? React.createElement('div', { className: 'mb-6 grid grid-cols-3 gap-3' },
            ['homework', 'review', 'getgud'].map((type, i) => 
              React.createElement('div', { 
                key: type,
                className: `bg-gradient-to-br ${type === 'getgud' ? 'from-orange-950 to-red-950 border-2 border-orange-600/50' : type === 'review' ? 'from-purple-950 to-slate-900 border border-purple-900/30' : 'from-blue-950 to-slate-900 border border-blue-900/30'} p-4 rounded-lg hover:border-opacity-70 transition-all cursor-pointer`,
                onClick: () => { setSessionType(type); setShowAddSession(true); }
              },
                React.createElement('div', { className: 'flex flex-col items-center gap-2' },
                  React.createElement(type === 'getgud' ? Flame : Play, { size: 40, className: `${type === 'getgud' ? 'text-orange-500' : type === 'review' ? 'text-purple-500' : 'text-blue-500'}` }),
                  React.createElement('h3', { className: `text-base font-bold ${type === 'getgud' ? 'text-orange-400' : type === 'review' ? 'text-purple-400' : 'text-blue-400'}` }, 
                    type === 'getgud' ? 'Get Gud' : type.charAt(0).toUpperCase() + type.slice(1)
                  )
                )
              )
            )
          ) : React.createElement('div', { className: 'mb-6 bg-gradient-to-br from-orange-950 to-red-950 p-6 rounded-lg border-2 border-orange-700' },
            React.createElement('div', { className: 'flex items-center gap-4' },
              React.createElement('div', { className: 'text-sm text-orange-300 mb-1' }, timerSubject.name + ' - ' + (sessionType === 'getgud' ? 'Get Gud' : sessionType)),
              React.createElement('div', { className: 'text-4xl font-bold text-orange-400 font-mono flex-1' }, formatTime(timerSeconds)),
              React.createElement('div', { className: 'flex gap-2' },
                !timerRunning ? 
                  React.createElement('button', { onClick: () => setTimerRunning(true), className: 'bg-orange-600 p-3 rounded-lg' }, React.createElement(Play, { size: 24 })) :
                  React.createElement('button', { onClick: () => setTimerRunning(false), className: 'bg-yellow-600 p-3 rounded-lg' }, React.createElement(Pause, { size: 24 })),
                React.createElement('button', { onClick: stopFocusSession, className: 'bg-red-600 p-3 rounded-lg' }, React.createElement(StopCircle, { size: 24 }))
              )
            )
          ),
          
          // Actions
          React.createElement('div', { className: 'flex gap-3 mb-6' },
            React.createElement('button', { onClick: () => setShowAddSubject(true), className: 'flex-1 bg-orange-600 px-4 py-2 rounded-lg flex items-center justify-center gap-2' },
              React.createElement(PlusCircle), 'Add Subject'
            ),
            React.createElement('button', { onClick: exportCSV, className: 'flex-1 bg-green-700 px-4 py-2 rounded-lg flex items-center justify-center gap-2' },
              React.createElement(Download), 'Export CSV'
            )
          ),
          
          // Subject cards
          React.createElement('div', { className: 'grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-8' },
            subjects.map(subject => {
              const traj = getTrajectory(subject);
              const recent = [...subject.papers].sort((a, b) => new Date(b.date) - new Date(a.date)).slice(0, 5);
              const avg = recent.length > 0 ? recent.reduce((sum, p) => sum + p.grade, 0) / recent.length : 5.5;
              
              return React.createElement('div', { key: subject.id, className: 'bg-slate-900 p-5 rounded-lg border border-slate-800' },
                React.createElement('div', { className: 'flex justify-between mb-4' },
                  React.createElement('div', {},
                    React.createElement('h3', { className: 'text-lg font-bold' }, subject.name),
                    React.createElement('div', { className: 'text-sm text-slate-400' }, subject.papers.length + ' papers')
                  ),
                  React.createElement('div', { className: 'text-right' },
                    React.createElement('div', { className: 'text-2xl font-bold text-orange-500' }, avg.toFixed(1)),
                    React.createElement('div', { className: 'text-xs text-slate-400' }, 'current')
                  )
                ),
                
                traj && React.createElement('div', { className: `p-3 rounded-lg mb-4 ${traj.onTrack ? 'bg-orange-900/20 border border-orange-800' : 'bg-red-900/30 border border-red-800'}` },
                  React.createElement('div', { className: 'flex items-center gap-2 mb-2' },
                    traj.onTrack ? React.createElement(TrendingUp, { size: 16, className: 'text-orange-500' }) : React.createElement(AlertTriangle, { size: 16, className: 'text-red-400' }),
                    React.createElement('span', { className: `font-bold ${traj.onTrack ? 'text-orange-500' : 'text-red-400'}` }, traj.onTrack ? 'On track for 9' : 'Below 9 trajectory')
                  ),
                  React.createElement('div', { className: 'text-sm text-slate-300' }, 'Projected (20 papers): ', React.createElement('span', { className: 'font-bold' }, traj.projected.toFixed(1))),
                  !traj.onTrack && React.createElement('div', { className: 'text-sm text-red-300 mt-2 font-bold bg-red-950/50 p-2 rounded' },
                    'NEED: +', traj.requiredImprovement.toFixed(2), ' per paper'
                  )
                ),
                
                recent.length > 0 && React.createElement('div', { className: 'mb-4' },
                  React.createElement('div', { className: 'text-xs text-slate-400 mb-2' }, 'Recent papers'),
                  React.createElement('div', { className: 'space-y-1' },
                    recent.map(p => React.createElement('div', { key: p.id, className: 'flex justify-between text-sm bg-slate-800 p-2 rounded' },
                      React.createElement('span', {}, p.percentage + '%'),
                      React.createElement('span', { className: 'text-orange-500' }, 'Grade ' + p.grade)
                    ))
                  )
                ),
                
                React.createElement('button', { 
                  onClick: () => { setCurrentSubject(subject); setShowAddPaper(true); },
                  className: 'w-full bg-orange-600 px-4 py-2 rounded flex items-center justify-center gap-2'
                }, React.createElement(PlusCircle, { size: 16 }), 'Paper')
              );
            })
          )
        ),
        
        // Modals
        showAddSubject && React.createElement('div', { className: 'fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50' },
          React.createElement('div', { className: 'bg-slate-900 p-6 rounded-lg max-w-md w-full border border-slate-800' },
            React.createElement('h3', { className: 'text-xl font-bold mb-4' }, 'Add Subject'),
            React.createElement('input', { type: 'text', value: newSubject, onChange: e => setNewSubject(e.target.value), placeholder: 'Subject name', className: 'w-full bg-slate-800 border border-slate-700 rounded px-3 py-2 mb-4', onKeyPress: e => e.key === 'Enter' && addSubject() }),
            React.createElement('div', { className: 'flex gap-2' },
              React.createElement('button', { onClick: addSubject, className: 'flex-1 bg-orange-600 px-4 py-2 rounded' }, 'Add'),
              React.createElement('button', { onClick: () => setShowAddSubject(false), className: 'flex-1 bg-slate-800 px-4 py-2 rounded' }, 'Cancel')
            )
          )
        ),
        
        showAddPaper && currentSubject && React.createElement('div', { className: 'fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50' },
          React.createElement('div', { className: 'bg-slate-900 p-6 rounded-lg max-w-md w-full border border-slate-800' },
            React.createElement('h3', { className: 'text-xl font-bold mb-4' }, 'Log Paper - ' + currentSubject.name),
            React.createElement('input', { type: 'number', min: 0, step: 0.5, value: newPaper.score, onChange: e => setNewPaper({...newPaper, score: e.target.value}), placeholder: 'Score achieved', className: 'w-full bg-slate-800 border border-slate-700 rounded px-3 py-2 mb-3' }),
            React.createElement('select', { value: newPaper.maxScore, onChange: e => setNewPaper({...newPaper, maxScore: e.target.value}), className: 'w-full bg-slate-800 border border-slate-700 rounded px-3 py-2 mb-3' },
              React.createElement('option', { value: '' }, 'Max grade possible'),
              [9,8,7,6,5,4,3,2,1].map(g => React.createElement('option', { key: g, value: g }, 'Grade ' + g))
            ),
            React.createElement('input', { type: 'date', value: newPaper.date, onChange: e => setNewPaper({...newPaper, date: e.target.value}), className: 'w-full bg-slate-800 border border-slate-700 rounded px-3 py-2 mb-4' }),
            React.createElement('div', { className: 'flex gap-2' },
              React.createElement('button', { onClick: addPaper, className: 'flex-1 bg-orange-600 px-4 py-2 rounded' }, 'Log Paper'),
              React.createElement('button', { onClick: () => setShowAddPaper(false), className: 'flex-1 bg-slate-800 px-4 py-2 rounded' }, 'Cancel')
            )
          )
        ),
        
        showAddSession && React.createElement('div', { className: 'fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50' },
          React.createElement('div', { className: 'bg-slate-900 p-6 rounded-lg max-w-md w-full border border-slate-800' },
            React.createElement('h3', { className: 'text-xl font-bold mb-4' }, sessionType === 'homework' ? 'Homework' : sessionType === 'review' ? 'Review' : 'Get Gud' + ' Session'),
            sessionType === 'homework' ? 
              React.createElement('input', { type: 'text', placeholder: 'Subject/Assignment name', onChange: e => setCurrentSubject({ name: e.target.value }), className: 'w-full bg-slate-800 border border-slate-700 rounded px-3 py-2 mb-3' }) :
              React.createElement('select', { onChange: e => setCurrentSubject(subjects.find(s => s.id === parseInt(e.target.value))), className: 'w-full bg-slate-800 border border-slate-700 rounded px-3 py-2 mb-3' },
                React.createElement('option', { value: '' }, 'Select subject'),
                subjects.map(s => React.createElement('option', { key: s.id, value: s.id }, s.name))
              ),
            React.createElement('div', { className: 'flex gap-2' },
              React.createElement('button', { onClick: () => { if (currentSubject) { setTimerSubject(currentSubject); setTimerSeconds(0); setTimerRunning(true); setShowAddSession(false); }}, className: 'flex-1 bg-orange-600 px-4 py-2 rounded' }, 'Start Timer'),
              React.createElement('button', { onClick: () => { setShowAddSession(false); setSessionType(null); }, className: 'flex-1 bg-slate-800 px-4 py-2 rounded' }, 'Cancel')
            )
          )
        )
      );
    }
    
    // Keyframe animations
    const style = document.createElement('style');
    style.textContent = '@keyframes flamePulse { 0%, 100% { opacity: 0.3; transform: scale(1); } 50% { opacity: 0.5; transform: scale(1.15); }} @keyframes phoenixGlow { 0%, 100% { filter: drop-shadow(0 0 8px rgba(234, 88, 12, 0.6)); } 50% { filter: drop-shadow(0 0 15px rgba(234, 88, 12, 0.9)); }}';
    document.head.appendChild(style);
    
    ReactDOM.createRoot(document.getElementById('root')).render(React.createElement(Grade9Tracker));
  </script>
</body>
</html>
